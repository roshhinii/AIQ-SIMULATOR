spring.application.name=device-simulator-service

# Profile configuration
spring.profiles.active=prod

# === Server Configuration ===
# Minimal thread pool for single user
server.port=8080
server.tomcat.threads.min-spare=1
server.tomcat.threads.max=5
server.tomcat.max-connections=10
server.tomcat.accept-count=5
server.connection-timeout=10s

# === Spring Boot Optimizations ===
# Lazy initialization for faster startup
spring.main.lazy-initialization=true

# Disable JMX for faster startup
spring.jmx.enabled=false

# Disable unnecessary actuator endpoints
management.endpoints.enabled-by-default=false
management.endpoint.health.enabled=true

# === Database Configuration ===
# H2 Database configuration
spring.datasource.url=jdbc:h2:file:./simulator
spring.datasource.driverClassName=org.h2.Driver
spring.datasource.username=sa
spring.datasource.password=

# Minimal connection pool
spring.datasource.hikari.minimum-idle=1
spring.datasource.hikari.maximum-pool-size=2
spring.datasource.hikari.connection-timeout=5000
spring.datasource.hikari.idle-timeout=300000
spring.datasource.hikari.max-lifetime=600000

# === JPA Configuration ===
spring.jpa.database-platform=org.hibernate.dialect.H2Dialect
spring.jpa.hibernate.ddl-auto=update
spring.jpa.show-sql=true

# Lazy JPA initialization
spring.data.jpa.repositories.bootstrap-mode=lazy
spring.jpa.open-in-view=false

# === Logging Configuration ===
# Reduce logging overhead
logging.level.org.springframework=WARN
logging.level.org.hibernate=WARN
logging.level.com.zaxxer.hikari=WARN
logging.level.org.apache.tomcat=WARN

# Keep application logging at DEBUG level for development
logging.level.com.flender.dib.aiq.devices.simulator.service=DEBUG
